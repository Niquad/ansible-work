# multi group, multi task playbook
# 3 plays
# 6 tasks

---
- name: Update n1 server
  hosts: n1

  tasks:
    - name: Create Directory
      file:
        path: /home/ec2-user/new_dir
        state: directory

    - name: Create Directory
      file:
        path: /home/ec2-user/new_dir_1
        state: directory

- name: Update n2 server
  hosts: n2

  tasks:
    - name: Create Directory
      file:
        path: /home/ec2-user/new_dir_1
        state: directory

    - name: Create Directory
      file:
        path: /home/ec2-user/new_dir_2
        state: directory

- name: Update group servers
  hosts: g2

  tasks:
    - name: Create Directory
      file:
        path: /home/ec2-user/new_dir_group1
        state: directory

    - name: Create Directory
      file:
        path: /home/ec2-user/new_dir_group2
        state: directory